<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Learn Testing</title>
  </head>
  <body>
    <h1>Open the console</h1>

    <script>
      // the function we're testing
      function square(x) {
        return x * x;
      }

      function test(name, testFunction) {
        function equal(x, y, message = `Expected ${x} to equal ${y}`) {
          if (x === y) {
            console.info("Pass: " + message);
          } else {
            console.error("Fail: " + message);
          }
        }

        function notEqual(x, y, message = `Expected ${x} not to equal ${y}`) {
          if (x !== y) {
            console.info("Pass: " + message);
          } else {
            console.error("Fail: " + message);
          }
        }

        const assertions = {
          equal,
          notEqual,
        };

        console.group(name);
        testFunction(assertions);
        console.groupEnd(name);
      }

      // our tests
      test("Correctly squares integers", t => {
        const result = square(2);
        const expected = 4;
        t.equal(result, expected);
        t.equal(result, 2); // this one will fail
        t.notEqual(result, 5);
      });

      test("Correctly squares decimals", t => {
        const result = square(2.23);
        const expected = 4.9729;
        t.equal(result, expected);
      });
    </script>
  </body>
</html>
